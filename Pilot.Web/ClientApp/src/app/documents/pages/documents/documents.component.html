<div *ngIf="!error">
  <div class="row pt-6">

    <app-documents-toolbar class="col-12 p-0"
                           *ngIf="checked != null && checked.length > 0"
                           [checkedNodes]="checked"
                           (onShowDocumentCard)="onShowDocumentCard($event)">
    </app-documents-toolbar>


    <div #documentsView class="col-12 p-0">
      <app-breadcrumbs [parent]="currentItem"
                       (onSelected)="onItemSelected($event)">
      </app-breadcrumbs>
      <app-document-list [parent]="currentItem"
                         (onSelected)="onItemSelected($event)"
                         (onChecked)="onItemsChecked($event)"
                         (onLoaded)="onListLoaded($event)"
                         (onError)="onError($event)">
      </app-document-list>
    </div>

  </div>
</div>

<app-error *ngIf="error" [response]="error"></app-error>

<pw-modal id="documentCardModal">
  <div class="bg-white rounded-lg p-3 document-card-view d-flex align-items-start flex-column">
    <span class="material-icons pointer tb-btn align-self-end" 
          (click)="onCloseDocumentCard()">clear</span>
    <app-document-card class="mb-auto w-100" *ngIf="getCheckedNode()"
                      [document]="getCheckedNode().source" >
    </app-document-card>
  <div class="align-self-end">
    <button type="submit" class="btn btn-primary" (click)="save()" translate="save" [disabled]="isReadonly()"></button>
    <button type="button" class="btn btn-outline-secondary ml-2" (click)="onCloseDocumentCard()" translate="cancel"></button>
    <!-- <button class="btn btn-primary" type="button" disabled *ngIf="isProcessing">
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"> </span>
      <span class="ml-1" translate="signingIn"> </span>
    </button> -->
  </div>
  </div>
</pw-modal>